<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æœƒå“¡ç³»çµ±è¨­å®šç²¾éˆ</title>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: "Noto Sans TC", sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}
.wizard {
  background: white;
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  max-width: 800px;
  width: 100%;
  padding: 40px;
}
h1 {
  color: #333;
  margin-bottom: 10px;
  font-size: 28px;
}
.subtitle {
  color: #666;
  margin-bottom: 30px;
}
.step {
  display: none;
}
.step.active {
  display: block;
  animation: fadeIn 0.3s;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.form-group {
  margin-bottom: 20px;
}
label {
  display: block;
  margin-bottom: 8px;
  color: #333;
  font-weight: 500;
}
input, select, textarea {
  width: 100%;
  padding: 12px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  font-size: 14px;
  transition: border 0.3s;
}
input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: #667eea;
}
.color-preview {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  border: 2px solid #e0e0e0;
  display: inline-block;
  margin-left: 10px;
  vertical-align: middle;
}
.btn-group {
  display: flex;
  gap: 10px;
  margin-top: 30px;
}
button {
  flex: 1;
  padding: 14px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}
.btn-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}
.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}
.btn-secondary {
  background: #f5f5f5;
  color: #666;
}
.btn-secondary:hover {
  background: #e0e0e0;
}
.progress-bar {
  height: 4px;
  background: #e0e0e0;
  border-radius: 2px;
  margin-bottom: 30px;
  overflow: hidden;
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
  transition: width 0.3s;
}
.output {
  background: #f5f5f5;
  padding: 20px;
  border-radius: 8px;
  margin-top: 20px;
  max-height: 400px;
  overflow-y: auto;
}
pre {
  font-size: 12px;
  line-height: 1.6;
  white-space: pre-wrap;
}
.industry-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
  margin-top: 15px;
}
.industry-card {
  padding: 20px;
  border: 2px solid #e0e0e0;
  border-radius: 12px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
}
.industry-card:hover, .industry-card.selected {
  border-color: #667eea;
  background: #f8f9ff;
}
.industry-card .icon {
  font-size: 40px;
  margin-bottom: 10px;
}
.industry-card .name {
  font-weight: 600;
  color: #333;
}
</style>
</head>
<body>
<div class="wizard">
  <h1>ğŸ¯ æœƒå“¡ç³»çµ±è¨­å®šç²¾éˆ</h1>
  <p class="subtitle">åªéœ€ 4 å€‹æ­¥é©Ÿï¼Œå¿«é€Ÿç”Ÿæˆæ‚¨çš„é…ç½®æ–‡ä»¶</p>
  
  <div class="progress-bar">
    <div class="progress-fill" id="progress" style="width: 25%"></div>
  </div>
  
  <!-- æ­¥é©Ÿ 1: é¸æ“‡ç”¢æ¥­ -->
  <div class="step active" data-step="1">
    <h2>æ­¥é©Ÿ 1ï¼šé¸æ“‡æ‚¨çš„ç”¢æ¥­é¡å‹</h2>
    <div class="industry-cards">
      <div class="industry-card" onclick="selectIndustry('restaurant')">
        <div class="icon">ğŸ½ï¸</div>
        <div class="name">é¤é£²æ¥­</div>
      </div>
      <div class="industry-card" onclick="selectIndustry('beauty')">
        <div class="icon">ğŸ’…</div>
        <div class="name">ç¾å®¹ç¾é«®</div>
      </div>
      <div class="industry-card" onclick="selectIndustry('fitness')">
        <div class="icon">ğŸ’ª</div>
        <div class="name">å¥èº«æˆ¿</div>
      </div>
      <div class="industry-card" onclick="selectIndustry('retail')">
        <div class="icon">ğŸ›ï¸</div>
        <div class="name">é›¶å”®æ¥­</div>
      </div>
      <div class="industry-card" onclick="selectIndustry('coffee')">
        <div class="icon">â˜•</div>
        <div class="name">å’–å•¡å»³</div>
      </div>
      <div class="industry-card" onclick="selectIndustry('general')">
        <div class="icon">ğŸ¯</div>
        <div class="name">å…¶ä»–/é€šç”¨</div>
      </div>
    </div>
  </div>
  
  <!-- æ­¥é©Ÿ 2: åŸºæœ¬è³‡è¨Š -->
  <div class="step" data-step="2">
    <h2>æ­¥é©Ÿ 2ï¼šå¡«å¯«åŸºæœ¬è³‡è¨Š</h2>
    <div class="form-group">
      <label>ç³»çµ±åç¨±</label>
      <input type="text" id="systemName" placeholder="ä¾‹å¦‚ï¼šç¾å‘³é¤å»³æœƒå“¡ç³»çµ±">
    </div>
    <div class="form-group">
      <label>å…¬å¸åç¨±</label>
      <input type="text" id="companyName" placeholder="ä¾‹å¦‚ï¼šç¾å‘³é¤å»³">
    </div>
    <div class="form-group">
      <label>é»æ•¸åç¨±</label>
      <input type="text" id="pointsName" placeholder="ä¾‹å¦‚ï¼šç¾é£Ÿé»æ•¸ã€ç¾éº—ç©åˆ†ã€å¥åº·é»æ•¸">
    </div>
    <div class="form-group">
      <label>é»æ•¸å–®ä½</label>
      <input type="text" id="pointsUnit" value="é»" placeholder="ä¾‹å¦‚ï¼šé»ã€åˆ†ã€å…ƒ">
    </div>
    <div class="form-group">
      <label>è¨»å†Šè´ˆé€é»æ•¸</label>
      <input type="number" id="initialPoints" value="100">
    </div>
  </div>
  
  <!-- æ­¥é©Ÿ 3: å“ç‰Œè¨­å®š -->
  <div class="step" data-step="3">
    <h2>æ­¥é©Ÿ 3ï¼šå“ç‰Œè¦–è¦ºè¨­å®š</h2>
    <div class="form-group">
      <label>ä¸»è‰²èª¿</label>
      <input type="color" id="primaryColor" value="#06C755">
      <span class="color-preview" id="primaryPreview" style="background: #06C755"></span>
    </div>
    <div class="form-group">
      <label>æ¬¡è¦é¡è‰²</label>
      <input type="color" id="secondaryColor" value="#6c757d">
      <span class="color-preview" id="secondaryPreview" style="background: #6c757d"></span>
    </div>
    <div class="form-group">
      <label>å¼·èª¿è‰²</label>
      <input type="color" id="accentColor" value="#FFD700">
      <span class="color-preview" id="accentPreview" style="background: #FFD700"></span>
    </div>
  </div>
  
  <!-- æ­¥é©Ÿ 4: åŠŸèƒ½é¸æ“‡ -->
  <div class="step" data-step="4">
    <h2>æ­¥é©Ÿ 4ï¼šé¸æ“‡åŠŸèƒ½æ¨¡çµ„</h2>
    <div class="form-group">
      <label><input type="checkbox" checked> æœƒå“¡è¨»å†Š</label>
    </div>
    <div class="form-group">
      <label><input type="checkbox" id="featureTransfer" checked> é»æ•¸è½‰è®“</label>
    </div>
    <div class="form-group">
      <label><input type="checkbox" id="featureExchange"> é»æ•¸å…Œæ›å•†å“</label>
    </div>
    <div class="form-group">
      <label><input type="checkbox" id="featureCheckin"> æ¯æ—¥ç°½åˆ°</label>
    </div>
    <div class="form-group">
      <label><input type="checkbox" id="featureInvite"> é‚€è«‹å¥½å‹</label>
    </div>
    <div class="form-group">
      <label><input type="checkbox" id="featureLevels" checked> æœƒå“¡ç­‰ç´š</label>
    </div>
  </div>
  
  <!-- æ­¥é©Ÿ 5: å®Œæˆ -->
  <div class="step" data-step="5">
    <h2>âœ… é…ç½®å®Œæˆï¼</h2>
    <p>è«‹è¤‡è£½ä»¥ä¸‹é…ç½®ä»£ç¢¼ï¼Œå„²å­˜ç‚º <code>config.js</code></p>
    <div class="output">
      <pre id="configOutput"></pre>
    </div>
    <button class="btn-primary" onclick="downloadConfig()" style="margin-top: 20px">ğŸ“¥ ä¸‹è¼‰ config.js</button>
  </div>
  
  <div class="btn-group">
    <button class="btn-secondary" id="prevBtn" onclick="prevStep()" style="display:none">ä¸Šä¸€æ­¥</button>
    <button class="btn-primary" id="nextBtn" onclick="nextStep()">ä¸‹ä¸€æ­¥</button>
  </div>
</div>

<script>
let currentStep = 1;
let config = {
  industry: 'general',
  systemName: '',
  companyName: '',
  pointsName: 'é»æ•¸',
  pointsUnit: 'é»',
  initialPoints: 100,
  primaryColor: '#06C755',
  secondaryColor: '#6c757d',
  accentColor: '#FFD700',
  features: {}
};

function selectIndustry(industry) {
  config.industry = industry;
  document.querySelectorAll('.industry-card').forEach(card => card.classList.remove('selected'));
  event.target.closest('.industry-card').classList.add('selected');
  
  // è‡ªå‹•å¡«å…¥ç”¢æ¥­é è¨­å€¼
  const templates = {
    restaurant: { name: 'é¤å»³æœƒå“¡ç³»çµ±', points: 'ç¾é£Ÿé»æ•¸', color: '#FF6B6B', icon: 'ğŸ½ï¸' },
    beauty: { name: 'ç¾å®¹æœƒå“¡ç³»çµ±', points: 'ç¾éº—ç©åˆ†', color: '#FF69B4', icon: 'ğŸ’…' },
    fitness: { name: 'å¥èº«æœƒå“¡ç³»çµ±', points: 'å¥åº·é»æ•¸', color: '#FF9800', icon: 'ğŸ’ª' },
    retail: { name: 'é›¶å”®æœƒå“¡ç³»çµ±', points: 'è³¼ç‰©é‡‘', color: '#4CAF50', icon: 'ğŸ›ï¸' },
    coffee: { name: 'å’–å•¡æœƒå“¡ç³»çµ±', points: 'å’–å•¡è±†', color: '#8D6E63', icon: 'â˜•' },
  };
  
  if (templates[industry]) {
    const t = templates[industry];
    document.getElementById('systemName').value = t.name;
    document.getElementById('pointsName').value = t.points;
    document.getElementById('primaryColor').value = t.color;
    config.primaryColor = t.color;
    document.getElementById('primaryPreview').style.background = t.color;
  }
}

function nextStep() {
  if (currentStep < 5) {
    // æ”¶é›†ç•¶å‰æ­¥é©Ÿçš„æ•¸æ“š
    if (currentStep === 2) {
      config.systemName = document.getElementById('systemName').value;
      config.companyName = document.getElementById('companyName').value;
      config.pointsName = document.getElementById('pointsName').value;
      config.pointsUnit = document.getElementById('pointsUnit').value;
      config.initialPoints = document.getElementById('initialPoints').value;
    } else if (currentStep === 3) {
      config.primaryColor = document.getElementById('primaryColor').value;
      config.secondaryColor = document.getElementById('secondaryColor').value;
      config.accentColor = document.getElementById('accentColor').value;
    } else if (currentStep === 4) {
      config.features = {
        transfer: document.getElementById('featureTransfer').checked,
        exchange: document.getElementById('featureExchange').checked,
        checkin: document.getElementById('featureCheckin').checked,
        invite: document.getElementById('featureInvite').checked,
        levels: document.getElementById('featureLevels').checked,
      };
      generateConfig();
    }
    
    document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
    currentStep++;
    document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
    
    updateProgress();
    updateButtons();
  }
}

function prevStep() {
  if (currentStep > 1) {
    document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
    currentStep--;
    document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
    
    updateProgress();
    updateButtons();
  }
}

function updateProgress() {
  document.getElementById('progress').style.width = (currentStep / 5 * 100) + '%';
}

function updateButtons() {
  document.getElementById('prevBtn').style.display = currentStep > 1 ? 'block' : 'none';
  document.getElementById('nextBtn').textContent = currentStep === 4 ? 'ç”Ÿæˆé…ç½®' : (currentStep === 5 ? 'å®Œæˆ' : 'ä¸‹ä¸€æ­¥');
  if (currentStep === 5) {
    document.getElementById('nextBtn').onclick = () => window.location.reload();
  }
}

function generateConfig() {
  const output = `const CONFIG = {
  system: {
    name: '${config.systemName}',
    shortName: '${config.systemName}',
    version: '1.0.0',
    industry: '${config.industry}',
  },

  brand: {
    companyName: '${config.companyName}',
    logo: './assets/logo.png',
    primaryColor: '${config.primaryColor}',
    secondaryColor: '${config.secondaryColor}',
    accentColor: '${config.accentColor}',
  },

  points: {
    name: '${config.pointsName}',
    unit: '${config.pointsUnit}',
    icon: 'ğŸ’°',
    initialPoints: ${config.initialPoints},
    expiryDays: 365,
    minTransfer: 1,
    maxTransfer: 10000,
  },

  memberLevels: {
    enabled: ${config.features.levels},
    levels: [
      { id: 'bronze', name: 'éŠ…ç´šæœƒå“¡', minPoints: 0, icon: 'ğŸ¥‰', discount: 0 },
      { id: 'silver', name: 'éŠ€ç´šæœƒå“¡', minPoints: 500, icon: 'ğŸ¥ˆ', discount: 0.05 },
      { id: 'gold', name: 'é‡‘ç´šæœƒå“¡', minPoints: 1000, icon: 'ğŸ¥‡', discount: 0.1 },
      { id: 'platinum', name: 'ç™½é‡‘æœƒå“¡', minPoints: 5000, icon: 'ğŸ’', discount: 0.15 },
    ]
  },

  features: {
    register: true,
    transfer: ${config.features.transfer},
    exchange: ${config.features.exchange},
    checkin: ${config.features.checkin},
    invite: ${config.features.invite},
  },

  api: {
    googleAppsScript: 'YOUR_APPS_SCRIPT_URL',
    timeout: 30000,
    retryCount: 3,
  },

  liff: {
    register: 'YOUR_LIFF_ID_REGISTER',
    profile: 'YOUR_LIFF_ID_PROFILE',
    transfer: 'YOUR_LIFF_ID_TRANSFER',
    edit: 'YOUR_LIFF_ID_EDIT',
    history: 'YOUR_LIFF_ID_HISTORY',
  },
};

if (typeof module !== 'undefined' && module.exports) {
  module.exports = { CONFIG };
}`;

  document.getElementById('configOutput').textContent = output;
}

function downloadConfig() {
  const content = document.getElementById('configOutput').textContent;
  const blob = new Blob([content], { type: 'text/javascript' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'config.js';
  a.click();
}

// é¡è‰²é¸æ“‡å™¨é è¦½
['primary', 'secondary', 'accent'].forEach(type => {
  document.getElementById(type + 'Color').addEventListener('input', (e) => {
    document.getElementById(type + 'Preview').style.background = e.target.value;
  });
});
</script>
</body>
</html>

